import CodeTab from "@mdx/CodeTab.astro";
import CodeTabs from "@mdx/CodeTabs.astro";
import Section from "@mdx/Section.astro";
import Tab from "@mdx/Tab.astro";
import Tabs from "@mdx/Tabs.astro";
import Callout from "@mdx/Callout.astro";
import SchemaFilePaths from "@mdx/SchemaFilePaths.mdx"
import Prerequisites from "@mdx/Prerequisites.astro"
import Dialects from "@mdx/Dialects.mdx"
import Drivers from "@mdx/Drivers.mdx"
import DriversExamples from "@mdx/DriversExamples.mdx"
import Npx from "@mdx/Npx.astro"

# Drizzle Kit é…ç½®æ–‡ä»¶
<Prerequisites>
- Drizzle å’Œ `drizzle-kit` å…¥é—¨ - [é˜…è¯»æ­¤å¤„](/docs/get-started)
- Drizzle schema åŸºç¡€ - [é˜…è¯»æ­¤å¤„](/docs/sql-schema-declaration)
- æ•°æ®åº“è¿æ¥åŸºç¡€ - [é˜…è¯»æ­¤å¤„](/docs/connect-overview)
- Drizzle è¿ç§»åŸºç¡€ - [é˜…è¯»æ­¤å¤„](/docs/migrations)
- Drizzle Kit [æ¦‚è¿°](/docs/kit-overview) å’Œ [é…ç½®æ–‡ä»¶](/docs/drizzle-config-file)
</Prerequisites>

Drizzle Kit å…è®¸ä½ åœ¨ `TypeScript` æˆ– `JavaScript` é…ç½®æ–‡ä»¶ä¸­å£°æ˜é…ç½®é€‰é¡¹ã€‚

<Section>
```plaintext {5}
ğŸ“¦ <project root>
 â”œ ...
 â”œ ğŸ“‚ drizzle
 â”œ ğŸ“‚ src
 â”œ ğŸ“œ drizzle.config.ts
 â”” ğŸ“œ package.json
```
<CodeTabs items={["drizzle.config.ts", "drizzle.config.js"]}>
<CodeTab>
```ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
  out: "./drizzle",
});
```
</CodeTab>
<CodeTab>
```js
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
  out: "./drizzle",
});
```
</CodeTab>
</CodeTabs>
</Section>

æ‰©å±•é…ç½®æ–‡ä»¶ç¤ºä¾‹
```ts collapsable
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  out: "./drizzle",
  dialect: "postgresql",
  schema: "./src/schema.ts",

  driver: "pglite",
  dbCredentials: {
    url: "./database/",
  },

  extensionsFilters: ["postgis"],
  schemaFilter: "public",
  tablesFilter: "*",

  introspect: {
    casing: "camel",
  },

  migrations: {
    prefix: "timestamp",
    table: "__drizzle_migrations__",
    schema: "public",
  },

  entities: {
    roles: {
      provider: '',
      exclude: [],
      include: []
    }
  }

  breakpoints: true,
  strict: true,
  verbose: true,
});
```

### å¤šä¸ªé…ç½®æ–‡ä»¶
ä½ å¯ä»¥åœ¨é¡¹ç›®ä¸­æ‹¥æœ‰å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œè¿™åœ¨ä½ æœ‰å¤šä¸ªæ•°æ®åº“é˜¶æ®µæˆ–åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­æœ‰å¤šä¸ªæ•°æ®åº“æ—¶éå¸¸æœ‰ç”¨ï¼š
<Npx>
  drizzle-kit generate --config=drizzle-dev.config.ts
  drizzle-kit generate --config=drizzle-prod.config.ts
</Npx>
```plaintext {5-6}
ğŸ“¦ <project root>
 â”œ ğŸ“‚ drizzle
 â”œ ğŸ“‚ src
 â”œ ğŸ“œ .env
 â”œ ğŸ“œ drizzle-dev.config.ts
 â”œ ğŸ“œ drizzle-prod.config.ts
 â”œ ğŸ“œ package.json
 â”” ğŸ“œ tsconfig.json
```

### è¿ç§»æ–‡ä»¶å¤¹
`out` å‚æ•°è®©ä½ å®šä¹‰è¿ç§»æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œé»˜è®¤ä¸º `drizzle`ã€‚
è¿™éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºä½ å¯ä»¥åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­ä¸ºä¸åŒçš„æ•°æ®åº“æ‹¥æœ‰å¤šä¸ªç‹¬ç«‹çš„ schemaï¼Œ
å¹¶ä¸ºå®ƒä»¬è®¾ç½®ä¸åŒçš„è¿ç§»æ–‡ä»¶å¤¹ã€‚

è¿ç§»æ–‡ä»¶å¤¹åŒ…å« `.sql` è¿ç§»æ–‡ä»¶å’Œ `_meta` æ–‡ä»¶å¤¹ï¼Œè¿™äº›ç”± `drizzle-kit` ä½¿ç”¨

<Section>
```plaintext {3}
ğŸ“¦ <project root>
 â”œ ...
 â”œ ğŸ“‚ drizzle
 â”‚ â”œ ğŸ“‚ _meta
 â”‚ â”œ ğŸ“œ user.ts 
 â”‚ â”œ ğŸ“œ post.ts 
 â”‚ â”” ğŸ“œ comment.ts 
 â”œ ğŸ“‚ src
 â”œ ğŸ“œ drizzle.config.ts
 â”” ğŸ“œ package.json
```
```ts {5}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql", // "mysql" | "sqlite" | "postgresql" | "turso" | "singlestore"
  schema: "./src/schema/*",
  out: "./drizzle",
});
```
</Section>

## ---

### `dialect`
<rem025/>

æ•°æ®åº“çš„æ–¹è¨€
|               |                                                 |
| :------------ | :-----------------------------------            |
| ç±»å‹        | <Dialects/>                                     |
| é»˜è®¤å€¼        | --                                     |
| å‘½ä»¤    | `generate` `migrate` `push` `pull` `check` `up` |

<rem025/>
```ts {4}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "mysql", 
});
```


### `schema`
<rem025/>

åŸºäº [`glob`](https://www.digitalocean.com/community/tools/glob?comments=true&glob=/**/*.js&matches=false&tests=//%20This%20will%20match%20as%20it%20ends%20with%20'.js'&tests=/hello/world.js&tests=//%20This%20won't%20match!&tests=/test/some/globs) çš„ drizzle schema æ–‡ä»¶æˆ–åŒ…å« schema æ–‡ä»¶çš„æ–‡ä»¶å¤¹è·¯å¾„ã€‚
|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `string` `string[]` |
| é»˜è®¤å€¼        | --                    |
| å‘½ä»¤      | `generate` `push`    |

<rem025/>
<SchemaFilePaths />


### `out`
<rem025/>

å®šä¹‰ SQL è¿ç§»æ–‡ä»¶ã€schema çš„ json å¿«ç…§ä»¥åŠ `drizzle-kit pull` å‘½ä»¤ç”Ÿæˆçš„ `schema.ts` çš„è¾“å‡ºæ–‡ä»¶å¤¹ã€‚
|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `string` `string[]` |
| é»˜è®¤å€¼        | `drizzle`                    |
| å‘½ä»¤      | `generate` `migrate` `push` `pull` `check` `up`    |

<rem025/>
```ts {4}
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  out: "./drizzle", 
});
```

### `driver`
<rem025/>

Drizzle Kit ä¼šæ ¹æ®æä¾›çš„ `dialect` è‡ªåŠ¨ä»ä½ å½“å‰é¡¹ç›®ä¸­é€‰æ‹©å¯ç”¨çš„æ•°æ®åº“é©±åŠ¨ï¼Œ
ä½†æŸäº›ç‰¹å®šä¾›åº”å•†çš„æ•°æ®åº“éœ€è¦ä¸åŒçš„è¿æ¥å‚æ•°é›†ã€‚

`driver` é€‰é¡¹è®©ä½ å¯ä»¥æ˜¾å¼é€‰æ‹©è¿™äº›ç‰¹ä¾‹é©±åŠ¨ã€‚

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | <Drivers/> |
| é»˜è®¤å€¼        | --                    |
| å‘½ä»¤      | `migrate` `push` `pull`   |

<rem025/>

<DriversExamples/>

## ---

### `dbCredentials`
<rem025/>

æ•°æ®åº“è¿æ¥å‡­è¯ï¼Œå¯ä»¥æ˜¯ `url` å½¢å¼ï¼Œ
`user:password@host:port/db` å‚æ•°å½¢å¼æˆ–ç‰¹ä¾‹é©±åŠ¨(<Drivers/>) ç‰¹å®šçš„è¿æ¥é€‰é¡¹ã€‚

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | é©±åŠ¨è¿æ¥é€‰é¡¹çš„è”åˆç±»å‹ |
| é»˜è®¤å€¼       | --                    |
| å‘½ä»¤      | `migrate` `push` `pull`   |

<rem025/>

<CodeTabs items={["PostgreSQL", "MySQL", "SQLite", "Turso", "Cloudflare D1", "AWS Data API", "PGLite"]}>
<Section>
```ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  dialect: "postgresql",
  dbCredentials: {
    url: "postgres://user:password@host:port/db",
  }
})
```
```ts
import { defineConfig } from 'drizzle-kit'

// é€šè¿‡è¿æ¥å‚æ•°
export default defineConfig({
  dialect: "postgresql",
  dbCredentials: {
    host: "host",
    port: 5432,
    user: "user",
    password: "password",
    database: "dbname",
    ssl: true, // å¯ä»¥æ˜¯ boolean | "require" | "allow" | "prefer" | "verify-full" | node:tls ä¸­çš„é€‰é¡¹
  }
})
```
</Section>
<Section>
```ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  dialect: "mysql",
  dbCredentials: {
    url: "postgres://user:password@host:port/db",
  }
})
```
```ts
import { defineConfig } from 'drizzle-kit'

// é€šè¿‡è¿æ¥å‚æ•°
export default defineConfig({
  dialect: "mysql",
  dbCredentials: {
    host: "host",
    port: 5432,
    user: "user",
    password: "password",
    database: "dbname",
    ssl: "...", // å¯ä»¥æ˜¯: string | SslOptions (mysql2 åŒ…ä¸­çš„ ssl é€‰é¡¹)
  }
})
```
</Section>
```ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  dialect: "sqlite",
  dbCredentials: {
    url: ":memory:", // å†…å­˜æ•°æ®åº“
    // æˆ–
    url: "sqlite.db", 
    // æˆ–
    url: "file:sqlite.db" // libsql éœ€è¦ file: å‰ç¼€
  }
})
```
```ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  dialect: "turso",
  dbCredentials: {
    url: "libsql://acme.turso.io" // è¿œç¨‹ Turso æ•°æ®åº“ url
    authToken: "...",

    // æˆ–å¦‚æœä½ éœ€è¦æœ¬åœ°æ•°æ®åº“

    url: ":memory:", // å†…å­˜æ•°æ®åº“
    // æˆ–
    url: "file:sqlite.db", // libsql éœ€è¦ file: å‰ç¼€
  }
})
```
```ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  dialect: "sqlite",
  driver: "d1-http",
  dbCredentials: {
    accountId: "",
    databaseId: "",
    token: "",
  }
})
```
```ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  dialect: "postgresql",
  driver: "aws-data-api",
  dbCredentials: {
    database: "database",
    resourceArn: "resourceArn",
    secretArn: "secretArn",
  },
});
```
```ts
import { defineConfig } from 'drizzle-kit'

export default defineConfig({
  dialect: "postgresql",
  driver: "pglite",
  dbCredentials: {
    url: "./database/", // æ•°æ®åº“æ–‡ä»¶å¤¹è·¯å¾„
  }
})
```
</CodeTabs>

### `migrations`
<rem025/>

å½“è¿è¡Œ `drizzle-kit migrate` æ—¶ - drizzle ä¼šåœ¨ä½ çš„æ•°æ®åº“ä¸­è®°å½•æˆåŠŸåº”ç”¨çš„è¿ç§»ï¼Œ
è®°å½•åœ¨ `public` schemaï¼ˆä»…é™ PostgreSQLï¼‰ä¸­åä¸º `__drizzle_migrations` çš„æ—¥å¿—è¡¨ä¸­ã€‚

`migrations` é…ç½®é€‰é¡¹è®©ä½ å¯ä»¥æ›´æ”¹è¿ç§»æ—¥å¿—çš„ `table` åç§°å’Œ `schema`ã€‚

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `{ table: string, schema: string }` |
| é»˜è®¤å€¼       | `{ table: "__drizzle_migrations", schema: "drizzle" }`                    |
| å‘½ä»¤      | `migrate`   |

<rem025/>

```ts
export default defineConfig({
  dialect: "postgresql",
  schema: "./src/schema.ts",
  migrations: {
    table: 'my-migrations-table', // é»˜è®¤ä¸º `__drizzle_migrations`
    schema: 'public', // ä»…åœ¨ PostgreSQL ä¸­ä½¿ç”¨ï¼Œé»˜è®¤ä¸º `drizzle`
  },
});
```

### `introspect`
<rem025/>

`drizzle-kit pull` å‘½ä»¤çš„é…ç½®ã€‚

`casing` è´Ÿè´£ä»£ç ä¸­åˆ—é”®çš„å‘½åé£æ ¼

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `{ casing: "preserve" \| "camel" }` |
| é»˜è®¤å€¼       | `{ casing: "camel" }`                    |
| å‘½ä»¤      | `pull`   |

<rem025/>

<CodeTabs items={["camel", "preserve"]}>
<Section>
```ts
import * as p from "drizzle-orm/pg-core"

export const users = p.pgTable("users", {
  id: p.serial(),
  firstName: p.text("first-name"),
  lastName: p.text("LastName"),
  email: p.text(),
  phoneNumber: p.text("phone_number"),
});
```
```sql
SELECT a.attname AS column_name, format_type(a.atttypid, a.atttypmod) as data_type FROM pg_catalog.pg_attribute a;
```
``` 
 column_name   | data_type        
---------------+------------------------
 id            | serial
 first-name    | text
 LastName      | text
 email         | text
 phone_number  | text
```
</Section>
<Section>
```ts
import * as p from "drizzle-orm/pg-core"

export const users = p.pgTable("users", {
  id: p.serial(),
  "first-name": p.text("first-name"),
  LastName: p.text("LastName"),
  email: p.text(),
  phone_number: p.text("phone_number"),
});
```
```sql
SELECT a.attname AS column_name, format_type(a.atttypid, a.atttypmod) as data_type FROM pg_catalog.pg_attribute a;
```
``` 
 column_name   | data_type        
---------------+------------------------
 id            | serial
 first-name    | text
 LastName      | text
 email         | text
 phone_number  | text
```
</Section>
</CodeTabs>


## --- 

### `tablesFilter`
<Callout>
å¦‚æœä½ æƒ³åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­è¿è¡Œå¤šä¸ªé¡¹ç›® - è¯·æŸ¥çœ‹[æˆ‘ä»¬çš„æŒ‡å—](/docs/goodies#multi-project-schema)ã€‚
</Callout>
<rem025/>
`drizzle-kit push` å’Œ `drizzle-kit pull` é»˜è®¤ä¼šç®¡ç† `public` schema ä¸­çš„æ‰€æœ‰è¡¨ã€‚
ä½ å¯ä»¥é€šè¿‡ `tablesFilters`ã€`schemaFilter` å’Œ `extensionFilters` é€‰é¡¹é…ç½®è¡¨ã€schema å’Œæ‰©å±•çš„åˆ—è¡¨ã€‚

`tablesFilter` é€‰é¡¹è®©ä½ å¯ä»¥æŒ‡å®šåŸºäº [`glob`](https://www.digitalocean.com/community/tools/glob?comments=true&glob=/**/*.js&matches=false&tests=//%20This%20will%20match%20as%20it%20ends%20with%20'.js'&tests=/hello/world.js&tests=//%20This%20won't%20match!&tests=/test/some/globs) 
çš„è¡¨åè¿‡æ»¤å™¨ï¼Œä¾‹å¦‚ `["users", "user_info"]` æˆ– `"user*"`

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `string` `string[]` |
| é»˜è®¤å€¼       | --                    |
| å‘½ä»¤      | `generate` `push` `pull`   |

<rem025/>
```ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  dialect: "postgresql",
  tablesFilter: ["users", "posts", "project1_*"],
});
```

### `schemaFilter`
<Callout>
å¦‚æœä½ æƒ³åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­è¿è¡Œå¤šä¸ªé¡¹ç›® - è¯·æŸ¥çœ‹[æˆ‘ä»¬çš„æŒ‡å—](/docs/goodies#multi-project-schema)ã€‚
</Callout>

<rem025/>
`drizzle-kit push` å’Œ `drizzle-kit pull` é»˜è®¤ä¼šç®¡ç† `public` schema ä¸­çš„æ‰€æœ‰è¡¨ã€‚
ä½ å¯ä»¥é€šè¿‡ `tablesFilters`ã€`schemaFilter` å’Œ `extensionFilters` é€‰é¡¹é…ç½®è¡¨ã€schema å’Œæ‰©å±•çš„åˆ—è¡¨ã€‚

`schemaFilter` é€‰é¡¹è®©ä½ å¯ä»¥æŒ‡å®š Drizzle Kit è¦ç®¡ç†çš„ schema åˆ—è¡¨

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `string[]` |
| é»˜è®¤å€¼       | `["public"]`                    |
| å‘½ä»¤      | `generate` `push` `pull`   |

<rem025/>

```ts
export default defineConfig({
  dialect: "postgresql",
  schemaFilter: ["public", "schema1", "schema2"],
});
```

### `extensionsFilters`
<rem025/>

ä¸€äº›æ‰©å±•å¦‚ [`postgis`](https://postgis.net/)ï¼Œå½“å®‰è£…åœ¨æ•°æ®åº“ä¸Šæ—¶ï¼Œä¼šåœ¨ public schema ä¸­åˆ›å»ºè‡ªå·±çš„è¡¨ã€‚
è¿™äº›è¡¨å¿…é¡»è¢« `drizzle-kit push` æˆ– `drizzle-kit pull` å¿½ç•¥ã€‚

`extensionsFilters` é€‰é¡¹è®©ä½ å¯ä»¥å£°æ˜è¦è®© drizzle kit å¿½ç•¥å…¶è¡¨çš„å·²å®‰è£…æ‰©å±•åˆ—è¡¨ã€‚

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `["postgis"]` |
| é»˜è®¤å€¼       | `[]`                    |
| å‘½ä»¤      | `push` `pull`   |

<rem025/>

```ts
export default defineConfig({
  dialect: "postgresql",
  extensionsFilters: ["postgis"],
});
```

## ---

### `entities`

æ­¤é…ç½®ç”¨äºè®¾ç½®æ•°æ®åº“ä¸­ç‰¹å®š `entities` çš„ç®¡ç†è®¾ç½®ã€‚

ç›®å‰å®ƒåªåŒ…å« `roles`ï¼Œä½†æœ€ç»ˆæ‰€æœ‰æ•°æ®åº“å®ä½“éƒ½ä¼šè¿ç§»åˆ°è¿™é‡Œï¼Œå¦‚ `tables`ã€`schemas`ã€`extensions`ã€`functions`ã€`triggers` ç­‰

#### `roles`

<rem025/>

å¦‚æœä½ ä½¿ç”¨ Drizzle Kit æ¥ç®¡ç†ä½ çš„ schemaï¼Œç‰¹åˆ«æ˜¯å®šä¹‰çš„è§’è‰²ï¼Œå¯èƒ½ä¼šæœ‰ä¸€äº›åœ¨ Drizzle schema ä¸­æœªå®šä¹‰çš„è§’è‰²ã€‚
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½å¸Œæœ› Drizzle Kit è·³è¿‡è¿™äº› `roles`ï¼Œè€Œä¸éœ€è¦åœ¨ Drizzle schema ä¸­å†™å…¥æ¯ä¸ªè§’è‰²å¹¶æ ‡è®°ä¸º `.existing()`ã€‚

`roles` é€‰é¡¹è®©ä½ å¯ä»¥ï¼š

- å¯ç”¨æˆ–ç¦ç”¨ Drizzle Kit çš„è§’è‰²ç®¡ç†ã€‚
- ä» Drizzle Kit ç®¡ç†ä¸­æ’é™¤ç‰¹å®šè§’è‰²ã€‚
- åŒ…å«ç‰¹å®šè§’è‰²ä¾› Drizzle Kit ç®¡ç†ã€‚
- å¯ç”¨ `Neon` å’Œ `Supabase` ç­‰æä¾›å•†çš„æ¨¡å¼ï¼Œå®ƒä»¬ä¸ç®¡ç†å…¶ç‰¹å®šè§’è‰²ã€‚
- ç»„åˆä¸Šè¿°æ‰€æœ‰é€‰é¡¹

|               |                       |
| :------------ | :-----------------    |
| ç±»å‹          | `boolean \| { provider: "neon" \| "supabase", include: string[], exclude: string[]}`|
| é»˜è®¤å€¼       | `false`                  |
| å‘½ä»¤      | `push` `pull` `generate` |

<rem025/>

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`drizzle-kit` ä¸ä¼šä¸ºä½ ç®¡ç†è§’è‰²ï¼Œæ‰€ä»¥ä½ éœ€è¦åœ¨ `drizzle.config.ts` ä¸­å¯ç”¨å®ƒ
```ts
export default defineConfig({
  dialect: "postgresql",
  extensionsFilters: entities: {
    roles: true
  }
});
```

**ä½ æœ‰ä¸€ä¸ªè§’è‰² `admin` å¹¶æƒ³å°†å…¶ä»å¯ç®¡ç†è§’è‰²åˆ—è¡¨ä¸­æ’é™¤**

```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  ...
  entities: {
    roles: {
      exclude: ['admin']
    }
  }
});
```

**ä½ æœ‰ä¸€ä¸ªè§’è‰² `admin` å¹¶æƒ³å°†å…¶åŒ…å«åœ¨å¯ç®¡ç†è§’è‰²åˆ—è¡¨ä¸­**

```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  ...
  entities: {
    roles: {
      include: ['admin']
    }
  }
});
```

**å¦‚æœä½ ä½¿ç”¨ `Neon` å¹¶æƒ³æ’é™¤ `Neon` å®šä¹‰çš„è§’è‰²ï¼Œä½ å¯ä»¥ä½¿ç”¨ provider é€‰é¡¹**

```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  ...
  entities: {
    roles: {
      provider: 'neon'
    }
  }
});
```

**å¦‚æœä½ ä½¿ç”¨ `Supabase` å¹¶æƒ³æ’é™¤ `Supabase` å®šä¹‰çš„è§’è‰²ï¼Œä½ å¯ä»¥ä½¿ç”¨ provider é€‰é¡¹**

```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  ...
  entities: {
    roles: {
      provider: 'supabase'
    }
  }
});
```

<Callout title='é‡è¦'>
ä½ å¯èƒ½ä¼šé‡åˆ° Drizzle ä¸æ•°æ®åº“æä¾›å•†æŒ‡å®šçš„æ–°è§’è‰²ç›¸æ¯”ç•¥å¾®è¿‡æ—¶çš„æƒ…å†µï¼Œ
æ‰€ä»¥ä½ å¯èƒ½éœ€è¦åŒæ—¶ä½¿ç”¨ `provider` é€‰é¡¹å’Œ `exclude` é¢å¤–çš„è§’è‰²ã€‚ä½ å¯ä»¥ä½¿ç”¨ Drizzle è½»æ¾åšåˆ°è¿™ä¸€ç‚¹ï¼š

```ts
// drizzle.config.ts
import { defineConfig } from "drizzle-kit";

export default defineConfig({
  ...
  entities: {
    roles: {
      provider: 'supabase',
      exclude: ['new_supabase_role']
    }
  }
});
```
</Callout>

## ---

### `strict`
<rem025/>

è¿è¡Œ `drizzle-kit push` å‘½ä»¤æ—¶æç¤ºç¡®è®¤è¿è¡Œæ‰“å°çš„ SQL è¯­å¥ã€‚

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `boolean` |
| é»˜è®¤å€¼       | `false`                    |
| å‘½ä»¤      | `push`   |

<rem025/>

```ts
export default defineConfig({
  dialect: "postgresql",
  strict: false,
});
```

### `verbose`
<rem025/>

åœ¨ `drizzle-kit push` å‘½ä»¤æœŸé—´æ‰“å°æ‰€æœ‰ SQL è¯­å¥ã€‚

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `boolean` |
| é»˜è®¤å€¼       | `true`                    |
| å‘½ä»¤      | `generate` `pull`   |

<rem025/>

```ts
export default defineConfig({
  dialect: "postgresql",
  verbose: false,
});
```

### `breakpoints`
<rem025/>

Drizzle Kit ä¼šè‡ªåŠ¨åœ¨ç”Ÿæˆçš„ SQL è¿ç§»æ–‡ä»¶ä¸­åµŒå…¥ `--> statement-breakpoint`ï¼Œ
è¿™å¯¹äºä¸æ”¯æŒåœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­æ‰§è¡Œå¤šä¸ª DDL ä¿®æ”¹è¯­å¥çš„æ•°æ®åº“ï¼ˆMySQL å’Œ SQLiteï¼‰æ˜¯å¿…éœ€çš„ã€‚

`breakpoints` é€‰é¡¹æ ‡å¿—è®©ä½ å¯ä»¥æ‰“å¼€å’Œå…³é—­å®ƒ

|               |                      |
| :------------ | :-----------------   |
| ç±»å‹          | `boolean` |
| é»˜è®¤å€¼       | `true`                    |
| å‘½ä»¤      | `generate` `pull`   |

<rem025/>

```ts
export default defineConfig({
  dialect: "postgresql",
  breakpoints: false,
});
```
