import CodeTab from "@mdx/CodeTab.astro";
import CodeTabs from "@mdx/CodeTabs.astro";
import Section from "@mdx/Section.astro";
import Tab from "@mdx/Tab.astro";
import Tabs from "@mdx/Tabs.astro";
import Callout from "@mdx/Callout.astro";
import Prerequisites from "@mdx/Prerequisites.astro"
import Npx from "@mdx/Npx.astro";
import SchemaFilePaths from "@mdx/SchemaFilePaths.mdx"
import Dialects from "@mdx/Dialects.mdx"

# `drizzle-kit generate` 命令

<Prerequisites>
- 开始使用 Drizzle 和 `drizzle-kit` - [阅读这里](/docs/get-started)
- Drizzle 模式基础 - [阅读这里](/docs/sql-schema-declaration)
- 数据库连接基础 - [阅读这里](/docs/connect-overview)
- Drizzle 迁移基础 - [阅读这里](/docs/migrations)
- Drizzle Kit [概述](/docs/kit-overview) 和 [配置文件](/docs/drizzle-config-file)
</Prerequisites>

<br/>

`drizzle-kit generate` 允许您根据 Drizzle 模式声明或后续模式更改生成 SQL 迁移。
<Callout collapsed="底层工作原理？">
Drizzle Kit `generate` 命令触发一系列事件：
1. 读取 Drizzle 模式文件并组成模式的 JSON 快照
2. 读取之前的迁移文件夹并将当前 JSON 快照与最近的快照进行比较
3. 基于 JSON 差异生成 SQL 迁移
4. 在当前时间戳下的迁移文件夹中保存 `migration.sql` 和 `snapshot.json`
</Callout>
