import Npm from '@mdx/Npm.astro';
import Callout from '@mdx/Callout.astro';
import Tabs from '@mdx/Tabs.astro';
import Tab from '@mdx/Tab.astro';
import AnchorCards from '@mdx/AnchorCards.astro';
import WhatsNextPostgres from "@mdx/WhatsNextPostgres.astro";
import Prerequisites from "@mdx/Prerequisites.astro";
import CodeTabs from "@mdx/CodeTabs.astro";

# Drizzle <> PlanetScale</>

<Prerequisites>
- 数据库[连接基础](/docs/connect-overview)与 Drizzle
- PlanetScale 数据库 - [官网](https://planetscale.com/docs)
- PlanetScale HTTP 驱动 - [GitHub](https://github.com/planetscale/database-js)
- Drizzle MySQL 驱动 - [文档](/docs/get-started-mysql)
</Prerequisites>

根据**[官方网站](https://planetscale.com/)**，
PlanetScale 是世界上最先进的无服务器 MySQL 平台。

使用 Drizzle ORM，你可以通过他们官方的 **[`database-js`](https://github.com/planetscale/database-js)** 驱动，在无服务器和有服务器的环境中通过 HTTP 访问 PlanetScale，使用我们的 `drizzle-orm/planetscale-serverless` 包。

你也可以通过 TCP 使用 `mysql2` 驱动访问 PlanetScale — **[查看这里。](/docs/get-started-mysql)**

#### 步骤 1 - 安装包
<Npm>
drizzle-orm @planetscale/database
-D drizzle-kit
</Npm>

#### 步骤 2 - 初始化驱动并执行查询
```typescript copy"
import { drizzle } from "drizzle-orm/planetscale-serverless";

const db = drizzle({ connection: {
  host: process.env["DATABASE_HOST"],
  username: process.env["DATABASE_USERNAME"],
  password: process.env["DATABASE_PASSWORD"],
}});

const response = await db.select().from(...)
```

如果你需要提供你现有的驱动：

```typescript copy"
import { drizzle } from "drizzle-orm/planetscale-serverless";
import { Client } from "@planetscale/database";

const client = new Client({
  host: process.env["DATABASE_HOST"],
  username: process.env["DATABASE_USERNAME"],
  password: process.env["DATABASE_PASSWORD"],
});

const db = drizzle({ client });
```

请务必查看 PlanetScale 官方的 **[MySQL 课程](https://planetscale.com/courses/mysql-for-developers/introduction/course-introduction)**，
我们认为它们非常出色 🙌

#### 下一步？

<WhatsNextPostgres/>
